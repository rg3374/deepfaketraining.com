# Deepfake Defense Training

An end-to-end LAMP application for the **deepfaketraining.com** experience. Learners log in, play an audio/video identification game, watch the awareness video, and track their progress. Admins upload new scenarios with associated media that are stored securely in MySQL.

## Stack

- PHP 8.2+
- MySQL 8 (InnoDB, utf8mb4)
- HTML/CSS (no JS build tooling required)

## Database setup

```bash
mysql -u root -p < /Users/nhunt/Desktop/deepfaketraining.com/database/schema.sql
```

Optionally create an admin user manually:

```sql
INSERT INTO users (username, password_hash, is_admin)
VALUES ('admin', PASSWORD('ChangeMe123!'), 1);
```

> Replace `PASSWORD()` with `bcrypt` generated by PHP if your MySQL version does not support it. You can run `php -r "echo password_hash('ChangeMe123!', PASSWORD_DEFAULT), PHP_EOL;"`.

## Import the starter scenario

Use the provided audio clips inside `source_audio/` to seed the first scenario (clip `timothee-chalamet_02.m4a` is treated as the deepfake):

```bash
php /Users/nhunt/Desktop/deepfaketraining.com/scripts/import_source_audio.php
```

Run the script again any time you update the source files; duplicates are avoided per scenario title.

## Configure credentials

The application reads MySQL settings from environment variables (`DB_HOST`, `DB_NAME`, etc.). For quick local development, edit `/Users/nhunt/Desktop/deepfaketraining.com/config.php` and adjust the defaults.

### Beta access gate

All pages are protected by a beta key so unpublished builds stay private. Update `app.beta_key` inside `config.php` (default `BetaKeyChangeMe`) and share it only with trusted testers. Anyone visiting the site will be redirected to `/beta.php` until they enter the key; once verified, their session proceeds normally and a secure cookie keeps them authorized for 30 days (unless you change the key). Clear the session via the “Reset beta session” link on that page or by deleting the browser cookies.

## Run locally

From the project root:

```bash
php -S localhost:8000 -t public
```

Visit `http://localhost:8000`. Register a learner account or log in as the admin you created to manage scenarios.

## Features

- **Interactive gameplay** – Pick a scenario, stream the stored audio/video clips directly from MySQL, and log guesses/accuracy.
- **Progress tracking** – Dashboard aggregates part 1 accuracy plus part 2 video completion status.
- **Admin console** – Upload unlimited scenarios and label which media file is the deepfake.
- **Security-first styling** – Dark, cyber-inspired UI with responsive layout.

